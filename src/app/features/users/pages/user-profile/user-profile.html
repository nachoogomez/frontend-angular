<div class="profile-container">
  <div class="profile-header">
    <button class="home-button" (click)="navigateToHome()">
      üè† Inicio
    </button>
    <h1>Mi Perfil</h1>
  </div>
  
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner">‚è≥</div>
    <p>Cargando perfil...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    <div class="error-icon">‚ö†Ô∏è</div>
    <p>{{ errorMessage }}</p>
  </div>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="success-message">
    <div class="success-icon">‚úÖ</div>
    <p>{{ successMessage }}</p>
  </div>

  <!-- Profile Content -->
  <div *ngIf="!isLoading && userProfile" class="profile-content">
    
    <!-- Profile Information Card -->
    <div class="profile-card">
      <div class="card-header">
        <div class="user-info">
          <h2>{{ userProfile.name }}</h2>
          <p class="user-email">{{ userProfile.email }}</p>
        </div>
        <button 
          class="edit-button" 
          (click)="toggleEdit()"
          [disabled]="isSaving">
          {{ isEditing ? 'Cancelar' : 'Editar Perfil' }}
        </button>
      </div>

      <!-- Profile Form -->
      <div class="card-body">
        <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
          <div class="form-section">
            <h3>Informaci√≥n Personal</h3>
            
            <div class="form-group">
              <label for="fullName">Nombre Completo *</label>
              <input 
                type="text" 
                id="fullName"
                formControlName="fullName"
                [readonly]="!isEditing"
                class="form-input"
                [class.readonly]="!isEditing"
                placeholder="Ingresa tu nombre completo">
              <div *ngIf="profileForm.get('fullName')?.invalid && profileForm.get('fullName')?.touched" 
                   class="error-text">
                <span *ngIf="profileForm.get('fullName')?.errors?.['required']">El nombre es requerido</span>
                <span *ngIf="profileForm.get('fullName')?.errors?.['minlength']">El nombre debe tener al menos 2 caracteres</span>
              </div>
            </div>

            <div class="form-group">
              <label for="email">Correo Electr√≥nico</label>
              <input 
                type="email" 
                id="email"
                [value]="userProfile.email"
                readonly
                class="form-input readonly"
                placeholder="Correo electr√≥nico">
              <small class="form-help">El correo electr√≥nico no se puede modificar</small>
            </div>

            <div class="form-actions" *ngIf="isEditing">
              <button 
                type="button" 
                class="btn btn-secondary" 
                (click)="cancelEdit()"
                [disabled]="isSaving">
                Cancelar
              </button>
              <button 
                type="submit" 
                class="btn btn-primary" 
                [disabled]="profileForm.invalid || isSaving">
                <span *ngIf="isSaving">Guardando...</span>
                <span *ngIf="!isSaving">Guardar Cambios</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

  </div>

